# 数据备份软件

## 实现功能

- 用户注册
- 用户登录
- 备份与还原目录和文件
- - 备份与还原目录
  - 备份与还原普通文件
  - 备份与还原硬链接
  - 备份与还原软链接
  - 备份与还原管道文件
- 打包解包
- 压缩解压：LZ78算法
- 管理数据库备份：MySQL维护数据

## 文件夹说明

/filecopy1：QT代码源文件

/tests:保存测试用例代码和所需数据

## 数据库说明

数据库名称：filecopy

```
create database filecopy;
use filecopy;
```

数据库表：information

![](.\readme1.png)

```
create table information(
     id int primary key auto_increment,
     name varchar(20) unique,
     password char(30),
) ;
```

数据库表：history

![](.\readme2.png)

```
create table history(
     h_id int primary key auto_increment,
     time char(30),
     Path varchar(100),
     size int,
     oldpath varchar(100),
     user varchar(20),
     foreign key(user) references information(name)
) ;
```

## 目录说明

- 编译环境

  - Linux
  - QT
  - GCC

- 编译方式

  - main.cpp中数据库密码需要替换

    - ```
      db.setPassword("密码");//第12行
      ```

  - choose.cpp中选择文件路径需要替换

    - ```
      fileName = QFileDialog::getOpenFileName(this,"选择文件","/home/czy");//第54行
      fileName = QFileDialog::getExistingDirectory(this,"选择目录","/home/czy");//第56行
      QString rootDirectory = QFileDialog::getExistingDirectory(this,"请选择目标文件夹","/home/czy");//第128行
      ```

  - up_down.cpp指定的备份路径需要替换

    - ```
      sprintf(filepackage,"/home/czy/packup/%s",name.c_str());//第53行
      sprintf(filepath,"/home/czy/packup/%s/%s",name.c_str(),time_s);//第54行
      ```

  - 将项目导入QT，创建好数据库并修改上述路径后，点击运行即可

    

